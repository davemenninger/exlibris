<% content_for :header do %>
  <div class="stack | p-s pl-l pr-l | bg-yellow">
    <div class="container | centre cluster | cluster-space cluster-baseline">
      <div>
        <div class="cluster | cluster-baseline cluster-grow">
          <div class="palatino size-2 highlight-none">
            <%= link_to t("application.name"), root_path(anchor: "content") %>
            <small class="size--1"><%= t("application.tagline") %></small>
          </div>
        </div>

        <% if @search.blank? %>
          <nav id="nav-search" class="cluster | cluster-baseline cluster-grow plex-mono" style="min-width: 30%;" data-turbo-permanent>
            <div>
              <%= form_with model: @search || Search.new, url: search_path, method: :get, class: "search | highlight-white" do |form| %>
                <div class="search--field with-icon" data-controller="highlight">
                  <%= form.label :query do %>
                    <%= icon_tag :search %>
                  <% end %>
                  <%= form.text_field :query, name: :query, placeholder: Search.model_name.human %>
                </div>
              <% end %>
            </div>
          </nav>
        <% end %>

        <div>
          <%= button_to t("layouts.public.random"), entries_random_path, method: :get %>
        </div>
      </div>
    </div>
  </div>

  <div class="c-white bg-black">
    <div class="container | cluster cluster-xs centre | bg-black pl-l pr-l">
      <div class="size--1 plex-mono">
        <% Tag.categories.each do |category| %>
          <em><%= link_to category.name, category %></em>
        <% end %>
      </div>
    </div>
  </div>
<% end %>

<% content_for :footer do %>
  <div class="c-white bg-black">
    <div class="container | centre | p-s measure-wide plex-mono">
      <div class="switcher size--2">
          <ul role="menu" class="stack | stack-2xs">
            <li class="palatino size-1"><%= link_to t("application.name"), root_path(anchor: "content") %></li>
            <li><%= link_to t(".footer.tags_link"), tags_path %></li>
            <li><%= link_to t(".footer.search_link"), search_path %></li>
            <li><%= link_to t(".footer.about_link"), about_path %></li>
          </ul>

        <div class="stack | stack-xs">
          <%= t(".footer.license_html") %>
        </div>
      </div>
    </div>
  </div>
<% end %>

<%= render template: "layouts/application" %>
